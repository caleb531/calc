/*
 Calc
Caleb Evans
Licensed under the MIT license
*/
(function(s,i,D,J,h,z,t,u,n,k){function b(a){if(this===s)return new b(a);if(a&&a.constructor===b)return a;this.original=this[0]=a;return this}function E(a){var c=b[a];c.call&&(b.fn[a]=function(){var a=[].slice.call(arguments,0);this[0]=c.apply(this,[this[0]].concat(a));return this})}function F(a){var c;if(a!==k)return E(a);for(c in b)b.fn[c]||E(c)}function A(a){a&&a.constructor===A?a=a.matrix.slice(0):a===k&&(a=[[1]]);this.matrix=a}function G(a,c){var b=[],d;for(d=0;d<a.length;d+=1)b.push(a[d][c]);
return b}function o(a){return 0===a.length?0:a[0].length}function H(a,c){var b,d,a=a.slice(0);a.splice(c[0],1);for(b=0;b<a.length;b+=1){a[b]=a[b].slice(0);for(d=0;d<a[b].length;d+=1)d===c[1]&&a[b].splice(d,1)}return a}function B(a){a&&a.constructor===B&&(a=a.vector);a=a||[0,0,0];a=a.slice(0);a[2]=a[2]||0;this.vector=a}s.Calc=b;var K=s.Calc,v=i.abs,y=i.round,w=i.floor,C=i.ceil,j=i.pow,m=i.sqrt,p=i.exp,r=i.log,I=i.random,q=i.PI,h=i.E,l=1,x=180/q;b.PI=q;b.E=h;b.PHI=(1+m(5))/2;b.G=6.673E-11;b.inDegrees=
u;b.fn=b.prototype;b.fn.end=function(){this[0]=this.original;return this};b.extend=function(a,c){b[a]=c;F(a);return c};b.noConflict=function(){s.Calc===b&&(s.Calc=K);return b};b.useDegrees=function(a){a||a===k?(l=q/180,x=1,b.inDegrees=t):(l=1,x=180/q,b.inDegrees=u);return b};b.abs=v;b.ceil=C;b.floor=w;b.rounded=b.round=function(a,c){return c?D(a.toFixed(c)):y(a)};b.nearest=function(a,c){return 0===c?0:y(a/c)*c};b.mod=function(a,c){return(a%c+c)%c};b.chopped=b.chop=function(a){return 0<=a?w(a):C(a)};
b.sign=function(a){return 0<a?1:0>a?-1:0};b.correct=function(a){-1===z(a).indexOf("e")&&b.round(a,14)===b.round(a,13)&&(a=b.round(a,14));return a};b.pow=function(a,c){c===k&&(c=2);return j(a,c)};b.root=function(a,c){c===k&&(c=2);return j(a,1/c)};b.log=function(a,c){c===k&&(c=10);return r(a)/r(c)};b.ln=r;b.exp=p;b.min=function(a){return i.min.apply(i,a)};b.max=function(a){return i.max.apply(i,a)};b.range=function(a){return b.max(a)-b.min(a)};b.thru=function(a,c,b){var d=[];c===k&&(c=a,a=0);b||(b=1);
if(a<c)for(;a<c+1;a+=b)d.push(a);else for(;a>c;a+=b)d.push(a);return d};b.sum=function(a){var c=0,b;for(b=0;b<a.length;b+=1)c+=a[b];return c};b.summation=b.summate=b.sigma=function(a,c,b){var d=0;if(b!==k)for(;a<=c;a+=1)d+=b(a);else d=(c-a+1)*(a+c)/2;return d};b.product=b.prod=function(a){var c=1,b;for(b=0;b<a.length;b+=1)c*=a[b];return c};b.mean=b.avg=function(a){return b.sum(a)/a.length};b.geoMean=function(a){return j(b.product(a),1/a.length)};b.median=function(a){var c,a=b.sort(a);0===a.length%
2?(c=a[a.length/2-1],a=a[a.length/2],c=b.mean([c,a])):c=a[w(a.length/2)];return c};b.modes=b.mode=function(a){var c=[],b=[],d=1,f,g;for(g=0;g<a.length;g+=1)f=a[g],c[f]=c[f]===k?1:c[f]+1,c[f]>d?(b=[f],d=c[f]):c[f]===d&&(b.unshift(f),d=c[f]);b.length===a.length&&(b=[]);return b};b.variance=function(a,c){var e=a.length,d=b.mean(a),f=0,g;for(g=0;g<a.length;g+=1)f+=j(a[g]-d,2);return c?f/e:f/(e-1)};b.stdDev=function(a,c){return m(b.variance(a,c))};b.slope=function(a,c){var b=(c[1]-a[1])/(c[0]-a[0]);Infinity===
b&&(b=n);return b};b.distance=b.dist=function(a,c){a=a.slice(0);c=c.slice(0);a[2]=a[2]||0;c[2]=c[2]||0;return m(j(c[0]-a[0],2)+j(c[1]-a[1],2)+j(c[2]-a[2],2))};b.midpoint=b.midpt=function(a,c){a=a.slice(0);c=c.slice(0);a[2]=a[2]||0;c[2]=c[2]||0;return[(a[0]+c[0])/2,(a[1]+c[1])/2,(a[2]+c[2])/2]};b.hypot=function(a,c){return m(j(a,2)+j(c,2))};b.sqDiff=function(a,c){return j(a,2)-j(c,2)};b.sorted=b.sort=function(a,c){a=a.slice(0);c&&c.call?a.sort(function(a,b){return c(a)-c(b)}):a.sort(function(a,b){return a-
b});return a};b.filtered=b.filter=function(a,b){var e,d;if(a.filter)e=a.filter(b);else{e=[];for(d=0;d<a.length;d+=1)b.call(a,a[d],d,a)&&e.push(a[d])}return e};b.map=function(a,b){var e,d;if(a.map)e=a.map(b);else{e=[];for(d=0;d<a.length;d+=1)e.push(b.call(a,a[d],d,a))}return e};b.index=function(a,b){var e,d;if(a.indexOf)e=a.indexOf(b);else{e=-1;for(d=0;d<a.length;d+=1)if(a[d]===b){e=d;break}}return e};b.unique=function(a){return b.filtered(a,function(c,e){return b.index(a,c)===e})};b.reversed=b.reverse=
function(a){a.split&&(a=a.split(""));a=a.slice(0).reverse();a.join&&(a=a.join(""));return a};b.factorial=function(a){var b=a,e;if(0===a)b=1;else if(0<a&&0===a%1)for(e=1;e<a;e+=1)b*=e;else b=n;return b};b.nPr=function(a,c){return a<c?0:b.factorial(a)/b.factorial(a-c)};b.nCr=function(a,c){return a<c?0:b.factorial(a)/(b.factorial(a-c)*b.factorial(c))};b.permut=b.permute=function(a,c){function e(h){var i;if(h.length===c)g=b.map(h,function(b){return a[b]}),f.push(g);else{var j=b.filtered(d,function(a){return-1===
b.index(h,a)});for(i=0;i<j.length;i+=1)e(h.concat(j[i]))}}var d,f,g;f=[];c===k&&(c=a.length);a.split&&(a=a.split(""));d=b.map(a,function(a,b){return b});e([]);return f};b.degrees=function(a){return a*(180/q)};b.radians=function(a){return a*(q/180)};b.radiansf=function(a){a*=x;a=b.fractionf(a/180);return a=a.replace(/^(-)?1$/gi,"$1\u03c0").replace(/\//gi,"\u03c0/").replace(/^(-)?1\u03c0/gi,"$1\u03c0").replace(/\/1$/gi,"").replace(/^0\u03c0/gi,"0")};b.sin=function(a){return i.sin(a*l)};b.cos=function(a){return i.cos(a*
l)};b.tan=function(a){return i.tan(a*l)};b.csc=function(a){return 1/b.sin(a)};b.sec=function(a){return 1/b.cos(a)};b.cot=function(a){return 1/b.tan(a)};b.asin=function(a){return i.asin(a)/l};b.acos=function(a){return i.acos(a)/l};b.atan=function(a){return i.atan(a)/l};b.atan2=function(a,b){return i.atan2(a,b)/l};b.acsc=function(a){return b.asin(1/a)};b.asec=function(a){return b.acos(1/a)};b.acot=function(a){return b.atan(1/a)};b.acot2=function(a,c){return b.atan2(c,a)};b.sinh=function(a){a*=l;return(p(a)-
p(-a))/2};b.cosh=function(a){a*=l;return(p(a)+p(-a))/2};b.tanh=function(a){a*=l;return(p(a)-p(-a))/(p(a)+p(-a))};b.asinh=function(a){return r(a+m(a*a+1))/l};b.acosh=function(a){return r(a+m(a*a-1))/l};b.atanh=function(a){return r((1+a)/(1-a))/2/l};b.coterminal=function(a){a*=x;return(a-360*b.floor(a/360))/x};b.rect=b.cart=function(a){var c;c=a[0]*b.cos(a[1]);a=a[0]*b.sin(a[1]);return[c,a]};b.polar=function(a){var c=b.hypot(a[0],a[1]),a=b.atan2(a[1],a[0]);0>a&&(a=b.coterminal(a));return[c,a]};b.quadrant=
function(a){var c;a.push&&(a=b.polar(a)[1]);a*=l;c=a-2*q*b.floor(a/(2*q));return a?b.ceil(c/(q/2))||1:1};b.factors=function(a){var a=!a||!a.push?[a]:a.slice(0),c,e,d=[1],f,g;for(g=0;g<a.length;g+=1)a[g]?a[g]=v(a[g]):(a.splice(g,1),g-=1);if(a.length){e=b.min(a);for(f=2;f<=e;f+=1){c=t;for(g=0;g<a.length;g+=1)0!==a[g]%f&&(c=u);c&&d.push(f)}}return d};b.gcf=function(a){a=b.factors(a);return a[a.length-1]};b.lcm=function(a){var c,e,d,f,g;c=b.product(a);for(f=1;f<=c;f+=1){d=t;for(g=0;g<a.length;g+=1)0!==
f%a[g]&&(d=u);if(d){e=f;break}}return e};b.fib=function(a){return y(j(b.PHI,a)/m(5))};b.fraction=b.frac=function(a){var c=1,e=1,d=1,f=0,g,a=b.correct(a);g=b.sign(a);for(a=v(a);c!==a;)if(1E5>f)c<a?e+=1:(d+=1,e=w(a*d)),c=e/d,f+=1;else return n;0===e&&(e=0,d=1);return[e*g,d]};b.fractionf=b.fracf=function(a){var c=b.frac(a);return c=c===n?z(a):c.join("/")};b.radical=function(a){var b,e,d,f;0>a&&(a=v(a),f=t);b=m(a);e=[1,a];if(0===b%1)e=[b,1];else for(d=2;d<a;d+=1)if(factor=a/d,0===factor%1&&(b=m(factor),
0===b%1)){e=[b,a/factor];break}f&&(e[1]*=-1);return e};b.radicalf=function(a){return b.radical(a).join("\u221a").replace(/1\u221a/gi,"\u221a").replace(/\u221a\-/gi,"i\u221a").replace(/\u221a1$/gi,"")};b.commas=function(a){a=z(a).split(".");-1===a[0].indexOf("e")&&(a[0]=a[0].split("").reverse().join("").replace(/(\d{3})/gi,"$1,").replace(/,(-?)$/gi,"$1").split("").reverse().join(""));return a.join(".")};b.noCommas=function(a){a=a.replace(/,/gi,"");return D(a)};b.isEven=function(a){return 0===a%2};
b.isOdd=function(a){return 1===a%2};b.isInteger=function(a){return 0===a%1};b.isPrime=function(a){return 2===b.factors(a).length};b.isComposite=function(a){a=v(a);return 2<b.factors(a).length};b.isFactor=function(a,b){return 0===b%a};b.isFib=function(a){var b;b=5*j(a,2)+4;a=0<a?5*j(a,2)-4:b;return 0===m(b)%1||0===m(a)%1?t:u};b.rand=b.random=function(a,b){a===k&&b===k?(a=0,b=1):b===k&&(b=a,a=0);return b.length?w(b.length*I()):a+(b-a)*I()};b.randInt=function(a,c){return y(b.rand(a,c))};b.scrambled=
b.scramble=function(a){var c,e,a=a.slice(0);for(e=0;e<a.length;e+=1)c=a[e],a.splice(e,1),a.splice(b.random(a),0,c);return a};b.choices=function(a,c){return b.scramble(a).slice(0,c||1)};b.choice=function(a){return b.scramble(a)[0]};b.base=function(a,b){return a.toString(b)};b.decimal=b.dec=function(a,b){return J(a,b)};b.binary=b.bin=function(a){return a.toString(2)};b.octal=b.oct=function(a){return a.toString(8)};b.hex=function(a){return a.toString(16)};b.not=function(a){return!a};b.and=function(a,
b){return!!a&&!!b};b.or=function(a,b){return!!a||!!b};b.xor=function(a,b){return(!!a||!!b)&&a!==b};b.nand=function(a,b){return!(a&&b)};b.nor=function(a,b){return!(a||b)};b.approx=function(a,b){var e=[-a(0)],d=1;if(0!==e[0])for(d=0;1E6>d&&!(e.push(e[d]-a(e[d])/b(e[d])),e[e.length-1]===e[e.length-2]);d+=1);return e[e.length-1]};b.matrix=function(a){return new A(a)};h=A.prototype;h.scale=function(a){var c=this.matrix.slice(0),e,d;for(e=0;e<c.length;e+=1)for(d=0;d<c[e].length;d+=1)c[e][d]*=a;return b.matrix(c)};
h.row=function(a){return this.matrix[a]};h.col=function(a){return G(this.matrix,a)};h.value=function(a){var b=this.matrix,e=o(b),d=C(a/e)-1;return b[d]?b[d][a%e]:k};h.index=function(a){var b=this.matrix,e=b.length,d=o(b),f,g;for(f=0;f<e;f+=1)for(g=0;g<d;g+=1)if(b[f][g]===a)return f*d+g;return n};h.nrows=h.rows=function(){return this.matrix.length};h.ncols=h.cols=function(){return o(this.matrix)};h.nvalues=h.values=function(){var a=this.matrix;return a.length*o(a)};h.add=function(a){var c=this.matrix,
e,d,f=[],a=b.matrix(a).matrix;if(c.length!==a.length||c[0].length!==a[0].length)return n;for(e=0;e<c.length;e+=1){f[e]=[];for(d=0;d<c[e].length;d+=1)f[e][d]=c[e][d]+a[e][d]}return b.matrix(f)};h.subtract=function(a){return this.add(b.matrix(a).scale(-1))};h.multiply=function(a){var a=b.matrix(a).matrix,c=this.matrix,e,d,f,g,h,i,j=c.length,l=a[0].length,k=[];if(c[0].length!==a.length)return n;for(e=0;e<j;e+=1){k[e]=[];for(d=0;d<l;d+=1){g=0;h=c[e];i=G(a,d);for(f=0;f<h.length;f+=1)g+=h[f]*i[f];k[e][d]=
g}}return b.matrix(k)};h.det=h.determinant=function(){var a=this.matrix,c=a.length,e=o(a);if(1===c&&1===e)return a[0][0];if(1<c&&1<e){var c=1,e=a[0],d=o(a),f,g=0,h;for(h=0;h<d;h+=1)f=H(a.slice(0),[0,h]),g+=e[h]*c*b.matrix(f).det(),c*=-1;return g}return n};h.transpose=h.reflect=function(){var a=this.matrix,c=a.length,e=o(a),d=[],f,g;for(g=0;g<e;g+=1){d[g]=[];for(f=0;f<c;f+=1)d[g][f]=a[f][g]}return b.matrix(d)};h.cofactors=function(){var a=this.matrix,c=a.length,e=o(a),d=[],f=1,g,h,i,j,a=a.slice(0);
for(i=0;i<c;i+=1){g=f;d[i]=[];for(j=0;j<e;j+=1)h=H(a,[i,j]),d[i].push(b.matrix(h).det()*g),g*=-1;f*=-1}return b.matrix(d)};h.adjugate=h.adj=function(){return this.transpose().cofactors()};h.inverse=h.inv=function(){var a=this.matrix,c=a.length,e=o(a),d=this.det(),f;1===c&&1===e?f=[[1/a[0][0]]]:1<c&&1<e&&(f=d?this.adjugate().scale(1/d):n);return b.matrix(f)};h.identity=h.iden=function(){var a=o(this.matrix),c=[],e,d,f=0,g;for(e=0;e<a;e+=1){c[e]=[];for(d=0;d<a;d+=1)g=d==f?1:0,c[e][d]=g;f+=1}return b.matrix(c)};
b.vector=function(a){return new B(a)};h=B.prototype;h.mag=function(){var a=this.vector;return m(j(a[0],2)+j(a[1],2)+j(a[2],2))};h.angle=function(){return b.polar(this.vector)[1]};h.scale=function(a){var c=this.vector.slice(0);c[0]*=a;c[1]*=a;c[2]*=a;return b.vector(c)};h.add=function(a){var c=this.vector,a=b.vector(a).vector;return b.vector([c[0]+a[0],c[1]+a[1],c[2]+a[2]])};h.subtract=function(a){return this.add(b.vector(a).scale(-1))};h.dot=function(a){var c=this.vector,a=b.vector(a).vector;return c[0]*
a[0]+c[1]*a[1]};h.cross=function(a){var c=this.vector,a=b.vector(a).vector;return 0===c[2]||0===a[2]?n:b.vector([c[1]*a[2]-c[2]*a[1],c[2]*a[0]-c[0]*a[2],c[0]*a[1]-c[1]*a[0]])};F()})(self,Math,parseFloat,parseInt,isNaN,String,!0,!1,null);
