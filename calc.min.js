/*
 Calc
Caleb Evans
Licensed under the MIT license
*/
(function(u,j,x,G,C,y,z,o,l){function A(a){a&&a.constructor===A?a=a.matrix.slice(0):a===l&&(a=[[1]]);this.matrix=a}function D(a,c){var b=[],e;for(e=0;e<a.length;e+=1)b.push(a[e][c]);return b}function n(a){return 0===a.length?0:a[0].length}function E(a,c){var b,e,a=a.slice(0);a.splice(c[0],1);for(b=0;b<a.length;b+=1){a[b]=a[b].slice(0);for(e=0;e<a[b].length;e+=1)e===c[1]&&a[b].splice(e,1)}return a}function B(a){a&&a.constructor===B&&(a=a.vector);a=a||[0,0,0];a=a.slice(0);a[2]=a[2]||0;this.vector=a}
var b={},H=u.Calc,r=j.abs,t=j.round,v=j.floor,w=j.ceil,k=j.pow,m=j.sqrt,p=j.exp,s=j.log,F=j.random,q=j.PI,i=j.E;u.Calc=b;b.PI=q;b.E=i;b.PHI=(1+m(5))/2;b.G=6.673848E-11;b.noConflict=function(){u.Calc===b&&(u.Calc=H);return b};b.abs=r;b.ceil=w;b.floor=v;b.rounded=b.round=function(a,c){return c?x(a.toFixed(c)):t(a)};b.nearest=function(a,c){return 0===c?0:t(a/c)*c};b.mod=function(a,c){return(a%c+c)%c};b.chopped=b.chop=function(a){return 0<=a?v(a):w(a)};b.sign=function(a){return 0<a?1:0>a?-1:0};b.correct=
function(a){var c=C(a).split(".");c[0].match("e")===o&&c[1]&&(c[1]=c[1].replace(/(\d)(\1{12})(\d{1,2})$/,"$1$2$2"),a=x(c.join(".")));return a};b.pow=function(a,c){c===l&&(c=2);return k(a,c)};b.root=function(a,c){c===l&&(c=2);return k(a,1/c)};b.sqrt=m;b.log=function(a,c){c===l&&(c=10);return s(a)/s(c)};b.ln=s;b.exp=p;b.min=function(a){return j.min.apply(j,a)};b.max=function(a){return j.max.apply(j,a)};b.range=function(a){return b.max(a)-b.min(a)};b.thru=function(a,c,b){var e=[];c===l&&(c=a,a=0);b||
(b=1);for(a>c&&(b=-1);a!==c;a+=b)e.push(a);return e};b.sum=function(a){var c=0,b;for(b=0;b<a.length;b+=1)c+=a[b];return c};b.summation=b.summate=b.sigma=function(a,c,b){var e=0;if(b!==l)for(;a<=c;a+=1)e+=b(a);else e=(c-a+1)*(a+c)/2;return e};b.product=b.prod=function(a){var c=1,b;for(b=0;b<a.length;b+=1)c*=a[b];return c};b.mean=b.avg=function(a){return b.sum(a)/a.length};b.geoMean=function(a){return k(b.product(a),1/a.length)};b.median=function(a){var c,a=b.sort(a);0===a.length%2?(c=a[a.length/2-
1],a=a[a.length/2],c=b.mean([c,a])):c=a[v(a.length/2)];return c};b.modes=b.mode=function(a){var c=[],b=[],e=1,g,h;for(h=0;h<a.length;h+=1)g=a[h],c[g]=c[g]===l?1:c[g]+1,c[g]>e?(b=[g],e=c[g]):c[g]===e&&(b.unshift(g),e=c[g]);b.length===a.length&&(b=[]);return b};b.variance=function(a,c){var f=a.length,e=b.mean(a),g=0,h;for(h=0;h<a.length;h+=1)g+=k(a[h]-e,2);return c?g/f:g/(f-1)};b.stdDev=function(a,c){return m(b.variance(a,c))};b.slope=function(a,b){var f=(b[1]-a[1])/(b[0]-a[0]);Infinity===f&&(f=o);
return f};b.distance=b.dist=function(a,b){a=a.slice(0);b=b.slice(0);a[2]=a[2]||0;b[2]=b[2]||0;return m(k(b[0]-a[0],2)+k(b[1]-a[1],2)+k(b[2]-a[2],2))};b.midpoint=b.midpt=function(a,b){a=a.slice(0);b=b.slice(0);a[2]=a[2]||0;b[2]=b[2]||0;return[(a[0]+b[0])/2,(a[1]+b[1])/2,(a[2]+b[2])/2]};b.hypot=function(a,b){return m(k(a,2)+k(b,2))};b.sqDiff=function(a,b){return k(a,2)-k(b,2)};b.sorted=b.sort=function(a,b){a=a.slice(0);b&&b.call?a.sort(function(a,e){return b(a)-b(e)}):a.sort(function(a,b){return a-
b});return a};b.filtered=b.filter=function(a,b){var f,e;if(a.filter)f=a.filter(b);else{f=[];for(e=0;e<a.length;e+=1)b.call(a,a[e],e,a)&&f.push(a[e])}return f};b.map=function(a,b){var f,e;if(a.map)f=a.map(b);else{f=[];for(e=0;e<a.length;e+=1)f.push(b.call(a,a[e],e,a))}return f};b.index=function(a,b){var f,e;if(a.indexOf)f=a.indexOf(b);else{f=-1;for(e=0;e<a.length;e+=1)if(a[e]===b){f=e;break}}return f};b.unique=function(a){return b.filtered(a,function(c,f){return b.index(a,c)===f})};b.reversed=b.reverse=
function(a){a.split&&(a=a.split(""));a=a.slice(0).reverse();a.join&&(a=a.join(""));return a};b.factorial=function(a){var b=a,f;if(0===a)b=1;else if(0<a&&0===a%1)for(f=1;f<a;f+=1)b*=f;else b=o;return b};b.nPr=function(a,c){return a<c?0:b.factorial(a)/b.factorial(a-c)};b.nCr=function(a,c){return a<c?0:b.factorial(a)/(b.factorial(a-c)*b.factorial(c))};b.permut=b.permute=function(a,c){function f(i){var j,k;if(i.length===c)h=b.map(i,function(b){return a[b]}),g.push(h);else{j=b.filtered(e,function(a){return-1===
b.index(i,a)});for(k=0;k<j.length;k+=1)f(i.concat(j[k]))}}var e,g,h;g=[];c===l&&(c=a.length);a.split&&(a=a.split(""));e=b.map(a,function(a,b){return b});f([]);return g};b.degrees=function(a){return a*(180/q)};b.radians=function(a){return a*(q/180)};b.radiansf=function(a){a=b.frac(a/q);return 0!==a[0]%1&&1===a[0]?a[0]+"\u03c0":a=a.join("/").replace(/^(-)?1$/gi,"$1\u03c0").replace(/\//gi,"\u03c0/").replace(/^(-)?1\u03c0/gi,"$1\u03c0").replace(/\/1$/gi,"").replace(/^0\u03c0/gi,"0")};b.sin=j.sin;b.cos=
j.cos;b.tan=j.tan;b.csc=function(a){return 1/j.sin(a)};b.sec=function(a){return 1/j.cos(a)};b.cot=function(a){return 1/j.tan(a)};b.asin=j.asin;b.acos=j.acos;b.atan=j.atan;b.atan2=j.atan2;b.acsc=function(a){return b.asin(1/a)};b.asec=function(a){return b.acos(1/a)};b.acot=function(a){return b.atan(1/a)};b.acot2=function(a,c){return b.atan2(c,a)};b.sinh=function(a){return(p(a)-p(-a))/2};b.cosh=function(a){return(p(a)+p(-a))/2};b.tanh=function(a){return(p(a)-p(-a))/(p(a)+p(-a))};b.csch=function(a){return 1/
b.sinh(a)};b.sech=function(a){return 1/b.cosh(a)};b.coth=function(a){return 1/b.tanh(a)};b.asinh=function(a){return s(a+m(k(a,2)+1))};b.acosh=function(a){return s(a+m(k(a,2)-1))};b.atanh=function(a){return s((1+a)/(1-a))/2};b.acsch=function(a){return b.asinh(1/a)};b.asech=function(a){return b.acosh(1/a)};b.acoth=function(a){return b.atanh(1/a)};b.coterminal=function(a){return a-2*q*b.floor(a/(2*q))};b.rect=b.cart=function(a){var c;c=a[0]*b.cos(a[1]);a=a[0]*b.sin(a[1]);return[c,a]};b.polar=function(a){var c=
b.hypot(a[0],a[1]),a=b.atan2(a[1],a[0]);0>a&&(a=b.coterminal(a));return[c,a]};b.quadrant=function(a){a=w(4*(b.coterminal(a)/(2*q)));0===a&&(a=1);return a};b.refAngle=function(a){return r(b.nearest(a,q)-a)};b.factors=function(a){var c,f,e=[1],g,h,a=a.push?a.slice(0):[a];for(h=0;h<a.length;h+=1)a[h]?a[h]=r(a[h]):(a.splice(h,1),h-=1);if(a.length){f=b.min(a);for(g=2;g<=f;g+=1){c=y;for(h=0;h<a.length;h+=1)0!==a[h]%g&&(c=z);c&&e.push(g)}}return e};b.gcf=b.gcd=function(a){a=b.factors(a);return a[a.length-
1]};b.lcm=function(a){var c,f,e,g,h;c=b.product(a);for(g=1;g<=c;g+=1){e=y;for(h=0;h<a.length;h+=1)0!==g%a[h]&&(e=z);if(e){f=g;break}}return f};b.fib=function(a){return t(k(b.PHI,a)/m(5))};b.fraction=b.frac=function(a){var b,f;for(d=1;5E4>d;d+=1)if(b=a*d,f=r(b),1.0E-12>f%1||1.0E-12>1-f%1)return[t(b),d];return[a,1]};b.fractionf=b.fracf=function(a){a=b.frac(a);return a=a.join("/").replace(/\/1$/gi,"")};b.radical=function(a){var c,f,e,g,h;h=b.sign(a);a=r(a);c=m(a);f=[1,a];if(0===c%1)f=[c,1];else for(g=
2;g<a;g+=1)if(e=a/g,0===e%1&&(c=m(e),0===c%1)){f=[c,a/e];break}f[1]*=h;return f};b.radicalf=function(a){a=b.radical(a);return a=a.join("\u221a").replace(/1\u221a/gi,"\u221a").replace(/\u221a\-/gi,"i\u221a").replace(/\u221a1$/gi,"")};b.commas=function(a){a=C(a).split(".");-1===a[0].indexOf("e")&&(a[0]=a[0].split("").reverse().join("").replace(/(\d{3})/gi,"$1,").replace(/,(-?)$/gi,"$1").split("").reverse().join(""));return a.join(".")};b.noCommas=function(a){a=a.replace(/,/gi,"");return x(a)};b.isEven=
function(a){return 0===a%2};b.isOdd=function(a){return 1===r(a)%2};b.isInteger=function(a){return 0===a%1};b.isPrime=function(a){return 2===b.factors(a).length};b.isComposite=function(a){a=r(a);return 2<b.factors(a).length};b.isFactor=b.isFactorOf=function(a,b){return 0===b%a};b.isFib=function(a){var b;b=5*k(a,2)+4;a=0<a?5*k(a,2)-4:b;return 0===m(b)%1||0===m(a)%1?y:z};b.rand=b.random=function(a,b){a===l&&b===l?(a=0,b=1):b===l&&(b=a,a=0);return b.length?v(b.length*F()):a+(b-a)*F()};b.randInt=function(a,
c){return t(b.rand(a,c))};b.scrambled=b.scramble=function(a){var c,f,a=a.slice(0);for(f=0;f<a.length;f+=1)c=a[f],a.splice(f,1),a.splice(b.random(a),0,c);return a};b.choices=function(a,c){return b.scramble(a).slice(0,c||1)};b.choice=function(a){return b.scramble(a)[0]};b.base=function(a,b){return a.toString(b)};b.decimal=b.dec=function(a,b){return G(a,b)};b.binary=b.bin=function(a){return a.toString(2)};b.octal=b.oct=function(a){return a.toString(8)};b.hex=function(a){return a.toString(16)};b.not=
function(a){return!a};b.and=function(a,b){return!!a&&!!b};b.or=function(a,b){return!!a||!!b};b.xor=function(a,b){return(!!a||!!b)&&a!==b};b.nand=function(a,b){return!(a&&b)};b.nor=function(a,b){return!(a||b)};b.matrix=function(a){return new A(a)};i=A.prototype;i.scale=function(a){var c=this.matrix.slice(0),f,e;for(f=0;f<c.length;f+=1)for(e=0;e<c[f].length;e+=1)c[f][e]*=a;return b.matrix(c)};i.row=function(a){return this.matrix[a]};i.col=function(a){return D(this.matrix,a)};i.value=function(a){var b=
this.matrix,f=n(b),e=w(a/f)-1;return b[e]?b[e][a%f]:l};i.index=function(a){var b=this.matrix,f=b.length,e=n(b),g,h;for(g=0;g<f;g+=1)for(h=0;h<e;h+=1)if(b[g][h]===a)return g*e+h;return o};i.nrows=i.rows=function(){return this.matrix.length};i.ncols=i.cols=function(){return n(this.matrix)};i.nvalues=i.values=function(){var a=this.matrix;return a.length*n(a)};i.add=function(a){var c=this.matrix,f,e,g=[],a=b.matrix(a).matrix;if(c.length!==a.length||c[0].length!==a[0].length)return o;for(f=0;f<c.length;f+=
1){g[f]=[];for(e=0;e<c[f].length;e+=1)g[f][e]=c[f][e]+a[f][e]}return b.matrix(g)};i.subtract=function(a){return this.add(b.matrix(a).scale(-1))};i.multiply=function(a){var a=b.matrix(a).matrix,c=this.matrix,f,e,g,h,i,j,k=c.length,m=a[0].length,l=[];if(c[0].length!==a.length)return o;for(f=0;f<k;f+=1){l[f]=[];for(e=0;e<m;e+=1){h=0;i=c[f];j=D(a,e);for(g=0;g<i.length;g+=1)h+=i[g]*j[g];l[f][e]=h}}return b.matrix(l)};i.det=i.determinant=function(){var a=this.matrix,c=a.length,f=n(a);if(1===c&&1===f)a=
a[0][0];else if(1<c&&1<f){var c=1,f=a[0],e=n(a),g,h=0,i;for(i=0;i<e;i+=1)g=E(a.slice(0),[0,i]),h+=f[i]*c*b.matrix(g).det(),c*=-1;a=h}else a=o;return a};i.transpose=i.reflect=function(){var a=this.matrix,c=a.length,f=n(a),e=[],g,h;for(h=0;h<f;h+=1){e[h]=[];for(g=0;g<c;g+=1)e[h][g]=a[g][h]}return b.matrix(e)};i.cofactors=function(){var a=this.matrix,c=a.length,f=n(a),e=[],g=1,h,i,j,k,a=a.slice(0);for(j=0;j<c;j+=1){h=g;e[j]=[];for(k=0;k<f;k+=1)i=E(a,[j,k]),e[j].push(b.matrix(i).det()*h),h*=-1;g*=-1}return b.matrix(e)};
i.adjugate=i.adj=function(){return this.transpose().cofactors()};i.inverse=i.inv=function(){var a=this.matrix,c=a.length,f=n(a),e=this.det(),g;if(1===c&&1===f)g=[[1/a[0][0]]];else if(1<c&&1<f)if(e)g=this.adjugate().scale(1/e);else return o;return b.matrix(g)};i.identity=i.iden=function(){var a=n(this.matrix),c=[],f,e,g=0,h;for(f=0;f<a;f+=1){c[f]=[];for(e=0;e<a;e+=1)h=e===g?1:0,c[f][e]=h;g+=1}return b.matrix(c)};b.vector=function(a){return new B(a)};i=B.prototype;i.mag=function(){var a=this.vector;
return m(k(a[0],2)+k(a[1],2)+k(a[2],2))};i.angle=function(){return b.polar(this.vector)[1]};i.scale=function(a){var c=this.vector.slice(0);c[0]*=a;c[1]*=a;c[2]*=a;return b.vector(c)};i.add=function(a){var c=this.vector,a=b.vector(a).vector;return b.vector([c[0]+a[0],c[1]+a[1],c[2]+a[2]])};i.subtract=function(a){return this.add(b.vector(a).scale(-1))};i.dot=function(a){var c=this.vector,a=b.vector(a).vector;return c[0]*a[0]+c[1]*a[1]};i.cross=function(a){var c=this.vector,a=b.vector(a).vector;return 0===
c[2]||0===a[2]?o:b.vector([c[1]*a[2]-c[2]*a[1],c[2]*a[0]-c[0]*a[2],c[0]*a[1]-c[1]*a[0]])}})(self,Math,parseFloat,parseInt,String,!0,!1,null);
