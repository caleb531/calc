/*
 Calc
Caleb Evans
Licensed under the MIT license
*/
(function(v,j,y,H,D,z,A,p,m){function B(b){b&&b.constructor===B?b=b.matrix.slice(0):b===m&&(b=[[1]]);this.matrix=b}function E(b,a){var c=[],e;for(e=0;e<b.length;e+=1)c.push(b[e][a]);return c}function o(b){return 0===b.length?0:b[0].length}function F(b,a){var c,e,b=b.slice(0);b.splice(a[0],1);for(c=0;c<b.length;c+=1){b[c]=b[c].slice(0);for(e=0;e<b[c].length;e+=1)e===a[1]&&b[c].splice(e,1)}return b}function C(b){b&&b.constructor===C&&(b=b.vector);b=b||[0,0,0];b=b.slice(0);b[2]=b[2]||0;this.vector=b}
var b={},I=v.Calc,s=j.abs,u=j.round,w=j.floor,x=j.ceil,l=j.pow,n=j.sqrt,q=j.exp,t=j.log,G=j.random,r=j.PI,i=j.E;v.Calc=b;b.PI=r;b.E=i;b.PHI=(1+n(5))/2;b.G=6.673848E-11;b.noConflict=function(){v.Calc===b&&(v.Calc=I);return b};b.abs=s;b.ceil=x;b.floor=w;b.rounded=b.round=function(b,a){return a?y(b.toFixed(a)):u(b)};b.nearest=function(b,a){return 0===a?0:u(b/a)*a};b.mod=function(b,a){return(b%a+a)%a};b.chopped=b.chop=function(b){return 0<=b?w(b):x(b)};b.sign=function(b){return 0<b?1:0>b?-1:0};b.toZero=
function(k,a){return k-b.sign(k)*a};b.correct=function(b){var a=D(b).split(".");a[0].match("e")===p&&a[1]&&(a[1]=a[1].replace(/(\d)(\1{12})(\d{1,2})$/,"$1$2$2"),b=y(a.join(".")));return b};b.pow=function(b,a){a===m&&(a=2);return l(b,a)};b.root=function(b,a){a===m&&(a=2);return l(b,1/a)};b.sqrt=n;b.log=function(b,a){a===m&&(a=10);return t(b)/t(a)};b.ln=t;b.exp=q;b.min=function(b){return j.min.apply(j,b)};b.max=function(b){return j.max.apply(j,b)};b.range=function(k){return b.max(k)-b.min(k)};b.thru=
function(b,a,c){var e=[];a===m&&(a=b,b=0);c||(c=1);for(b>a&&(c=-1);b!==a;b+=c)e.push(b);return e};b.sum=function(b){var a=0,c;for(c=0;c<b.length;c+=1)a+=b[c];return a};b.summation=b.summate=b.sigma=function(b,a,c){var e=0;if(c!==m)for(;b<=a;b+=1)e+=c(b);else e=(a-b+1)*(b+a)/2;return e};b.product=b.prod=function(b){var a=1,c;for(c=0;c<b.length;c+=1)a*=b[c];return a};b.mean=b.avg=function(k){return b.sum(k)/k.length};b.geoMean=function(k){return l(b.product(k),1/k.length)};b.median=function(k){var a,
k=b.sort(k);0===k.length%2?(a=k[k.length/2-1],k=k[k.length/2],a=b.mean([a,k])):a=k[w(k.length/2)];return a};b.modes=b.mode=function(b){var a=[],c=[],e=1,f,g;for(g=0;g<b.length;g+=1)f=b[g],a[f]=a[f]===m?1:a[f]+1,a[f]>e?(c=[f],e=a[f]):a[f]===e&&c.unshift(f);c.length===b.length&&(c=[]);return c};b.variance=function(k,a){var c=k.length,e=b.mean(k),f=0,g;for(g=0;g<k.length;g+=1)f+=l(k[g]-e,2);return a?f/c:f/(c-1)};b.stdDev=function(k,a){return n(b.variance(k,a))};b.slope=function(b,a){var c=(a[1]-b[1])/
(a[0]-b[0]);Infinity===c&&(c=p);return c};b.distance=b.dist=function(b,a){b=b.slice(0);a=a.slice(0);b[2]=b[2]||0;a[2]=a[2]||0;return n(l(a[0]-b[0],2)+l(a[1]-b[1],2)+l(a[2]-b[2],2))};b.midpoint=b.midpt=function(b,a){b=b.slice(0);a=a.slice(0);b[2]=b[2]||0;a[2]=a[2]||0;return[(b[0]+a[0])/2,(b[1]+a[1])/2,(b[2]+a[2])/2]};b.hypot=function(b,a){return n(l(b,2)+l(a,2))};b.sqDiff=function(b,a){return l(b,2)-l(a,2)};b.sorted=b.sort=function(b,a){b=b.slice(0);a&&a.call?b.sort(function(b,e){return a(b)-a(e)}):
b.sort(function(a,b){return a-b});return b};b.filtered=b.filter=function(b,a){var c,e;if(b.filter)c=b.filter(a);else{c=[];for(e=0;e<b.length;e+=1)a.call(b,b[e],e,b)&&c.push(b[e])}return c};b.map=function(b,a){var c,e;if(b.map)c=b.map(a);else{c=[];for(e=0;e<b.length;e+=1)c.push(a.call(b,b[e],e,b))}return c};b.index=function(b,a){var c,e;if(b.indexOf)c=b.indexOf(a);else{c=-1;for(e=0;e<b.length;e+=1)if(b[e]===a){c=e;break}}return c};b.unique=function(k){return b.filtered(k,function(a,c){return b.index(k,
a)===c})};b.reversed=b.reverse=function(b){b.split&&(b=b.split(""));b=b.slice(0).reverse();b.join&&(b=b.join(""));return b};b.flattened=b.flatten=function a(b){var e=[],f;for(f=0;f<b.length;f+=1)-1!=={}.toString.call(b[f]).indexOf("Array")?e=e.concat(a(b[f])):e.push(b[f]);return e};b.factorial=function(a){var b=a,e;if(0===a)b=1;else if(0===a%1)for(e=1;e<a;e+=1)b*=e;else b=p;return b};b.nPr=function(a,c){return a<c?0:b.factorial(a)/b.factorial(a-c)};b.nCr=function(a,c){return a<c?0:b.factorial(a)/
(b.factorial(a-c)*b.factorial(c))};b.permut=b.permute=function(a,c){function e(i){var j,l;if(i.length===c)h=b.map(i,function(b){return a[b]}),g.push(h);else{j=b.filtered(f,function(a){return-1===b.index(i,a)});for(l=0;l<j.length;l+=1)e(i.concat(j[l]))}}var f,g,h;g=[];c===m&&(c=a.length);a.split&&(a=a.split(""));f=b.map(a,function(a,b){return b});e([]);return g};b.degrees=function(a){return a*(180/r)};b.radians=function(a){return a*(r/180)};b.radiansf=function(a){a=b.frac(a/r);return 0!==a[0]%1&&1===
a[0]?a[0]+"\u03c0":a=a.join("/").replace(/^(-)?1$/gi,"$1\u03c0").replace(/\//gi,"\u03c0/").replace(/^(-)?1\u03c0/gi,"$1\u03c0").replace(/\/1$/gi,"").replace(/^0\u03c0/gi,"0")};b.sin=j.sin;b.cos=j.cos;b.tan=j.tan;b.csc=function(a){return 1/j.sin(a)};b.sec=function(a){return 1/j.cos(a)};b.cot=function(a){return 1/j.tan(a)};b.asin=j.asin;b.acos=j.acos;b.atan=j.atan;b.atan2=j.atan2;b.acsc=function(a){return b.asin(1/a)};b.asec=function(a){return b.acos(1/a)};b.acot=function(a){return b.atan(1/a)};b.acot2=
function(a,c){return b.atan2(c,a)};b.sinh=function(a){return(q(a)-q(-a))/2};b.cosh=function(a){return(q(a)+q(-a))/2};b.tanh=function(a){return(q(a)-q(-a))/(q(a)+q(-a))};b.csch=function(a){return 1/b.sinh(a)};b.sech=function(a){return 1/b.cosh(a)};b.coth=function(a){return 1/b.tanh(a)};b.asinh=function(a){return t(a+n(l(a,2)+1))};b.acosh=function(a){return t(a+n(l(a,2)-1))};b.atanh=function(a){return t((1+a)/(1-a))/2};b.acsch=function(a){return b.asinh(1/a)};b.asech=function(a){return b.acosh(1/a)};
b.acoth=function(a){return b.atanh(1/a)};b.coterminal=function(a){return a-2*r*b.floor(a/(2*r))};b.rect=b.cart=function(a){var c;c=a[0]*b.cos(a[1]);a=a[0]*b.sin(a[1]);return[c,a]};b.polar=function(a){var c=b.hypot(a[0],a[1]),a=b.atan2(a[1],a[0]);0>a&&(a=b.coterminal(a));return[c,a]};b.quadrant=function(a){a=x(4*(b.coterminal(a)/(2*r)));0===a&&(a=1);return a};b.refAngle=function(a){return s(b.nearest(a,r)-a)};b.factors=function(a){var c,e,f=[1],g,h,a=a.push?a.slice(0):[a];for(h=0;h<a.length;h+=1)a[h]?
a[h]=s(a[h]):(a.splice(h,1),h-=1);if(a.length){e=b.min(a);for(g=2;g<=e;g+=1){c=z;for(h=0;h<a.length;h+=1)0!==a[h]%g&&(c=A);c&&f.push(g)}}return f};b.gcf=b.gcd=function(a){a=b.factors(a);return a[a.length-1]};b.lcm=b.lcd=function(a){var c,e,f,g,h;c=b.product(a);for(g=1;g<=c;g+=1){f=z;for(h=0;h<a.length;h+=1)0!==g%a[h]&&(f=A);if(f){e=g;break}}return e};b.fib=function(a){return u(l(b.PHI,a)/n(5))};b.prime=function(a){for(var c=0,e=0,f,g,c=0;e<=a;c+=1)if(g=b.isPrime(c))f=c,e+=1;return f};b.fraction=b.frac=
function(a){var b,e;for(d=1;5E4>d;d+=1)if(b=a*d,e=s(b),1.0E-12>e%1||1.0E-12>1-e%1)return[u(b),d];return[a,1]};b.fractionf=b.fracf=function(a){a=b.frac(a);return a=a.join("/").replace(/\/1$/gi,"")};b.radical=function(a){var c,e,f,g,h;h=b.sign(a);a=s(a);c=n(a);e=[1,a];if(0===c%1)e=[c,1];else for(g=2;g<a;g+=1)if(f=a/g,0===f%1&&(c=n(f),0===c%1)){e=[c,a/f];break}e[1]*=h;return e};b.radicalf=function(a){a=b.radical(a);return a=a.join("\u221a").replace(/1\u221a/gi,"\u221a").replace(/\u221a\-/gi,"i\u221a").replace(/\u221a1$/gi,
"")};b.commas=function(a){a=D(a).split(".");-1===a[0].indexOf("e")&&(a[0]=a[0].split("").reverse().join("").replace(/(\d{3})/gi,"$1,").replace(/,(-?)$/gi,"$1").split("").reverse().join(""));return a.join(".")};b.noCommas=function(a){a=a.replace(/,/gi,"");return y(a)};b.isEven=function(a){return 0===a%2};b.isOdd=function(a){return 1===s(a)%2};b.isInteger=function(a){return 0===a%1};b.isPrime=function(a){return 2===b.factors(a).length};b.isComposite=function(a){a=s(a);return 2<b.factors(a).length};
b.isFactor=b.isFactorOf=function(a,b){return 0===b%a};b.isFib=function(a){var b;b=5*l(a,2)+4;a=0<a?5*l(a,2)-4:b;return 0===n(b)%1||0===n(a)%1?z:A};b.rand=b.random=function(a,b){a===m&&b===m?(a=0,b=1):b===m&&(b=a,a=0);return b.length?w(b.length*G()):a+(b-a)*G()};b.randInt=function(a,c){return u(b.rand(a,c))};b.scrambled=b.scramble=function(a){var c,e,a=a.slice(0);for(e=0;e<a.length;e+=1)c=a[e],a.splice(e,1),a.splice(b.random(a),0,c);return a};b.choices=function(a,c){return b.scramble(a).slice(0,c||
1)};b.choice=function(a){return b.scramble(a)[0]};b.base=function(a,b){return a.toString(b)};b.decimal=b.dec=function(a,b){return H(a,b)};b.binary=b.bin=function(a){return a.toString(2)};b.octal=b.oct=function(a){return a.toString(8)};b.hex=function(a){return a.toString(16)};b.not=function(a){return!a};b.and=function(a,b){return!!a&&!!b};b.or=function(a,b){return!!a||!!b};b.xor=function(a,b){return(!!a||!!b)&&a!==b};b.nand=function(a,b){return!(a&&b)};b.nor=function(a,b){return!(a||b)};b.matrix=function(a){return new B(a)};
i=B.prototype;i.scale=function(a){var c=this.matrix.slice(0),e,f;for(e=0;e<c.length;e+=1)for(f=0;f<c[e].length;f+=1)c[e][f]*=a;return b.matrix(c)};i.row=function(a){return this.matrix[a]};i.col=function(a){return E(this.matrix,a)};i.value=function(a){var b=this.matrix,e=o(b),f=x(a/e)-1;return b[f]?b[f][a%e]:m};i.index=function(a){var b=this.matrix,e=b.length,f=o(b),g,h;for(g=0;g<e;g+=1)for(h=0;h<f;h+=1)if(b[g][h]===a)return g*f+h;return p};i.nrows=i.rows=function(){return this.matrix.length};i.ncols=
i.cols=function(){return o(this.matrix)};i.nvalues=i.values=function(){var a=this.matrix;return a.length*o(a)};i.add=function(a){var c=this.matrix,e,f,g=[],a=b.matrix(a).matrix;if(c.length!==a.length||c[0].length!==a[0].length)return p;for(e=0;e<c.length;e+=1){g[e]=[];for(f=0;f<c[e].length;f+=1)g[e][f]=c[e][f]+a[e][f]}return b.matrix(g)};i.subtract=function(a){return this.add(b.matrix(a).scale(-1))};i.multiply=function(a){var a=b.matrix(a).matrix,c=this.matrix,e,f,g,h,i,j,l=c.length,n=a[0].length,
m=[];if(c[0].length!==a.length)return p;for(e=0;e<l;e+=1){m[e]=[];for(f=0;f<n;f+=1){h=0;i=c[e];j=E(a,f);for(g=0;g<i.length;g+=1)h+=i[g]*j[g];m[e][f]=h}}return b.matrix(m)};i.det=i.determinant=function(){var a=this.matrix,c=a.length,e=o(a);if(1===c&&1===e)a=a[0][0];else if(1<c&&1<e){var c=1,e=a[0],f=o(a),g,h=0,i;for(i=0;i<f;i+=1)g=F(a.slice(0),[0,i]),h+=e[i]*c*b.matrix(g).det(),c*=-1;a=h}else a=p;return a};i.transpose=i.reflect=function(){var a=this.matrix,c=a.length,e=o(a),f=[],g,h;for(h=0;h<e;h+=
1){f[h]=[];for(g=0;g<c;g+=1)f[h][g]=a[g][h]}return b.matrix(f)};i.cofactors=function(){var a=this.matrix,c=a.length,e=o(a),f=[],g=1,h,i,j,l,a=a.slice(0);for(j=0;j<c;j+=1){h=g;f[j]=[];for(l=0;l<e;l+=1)i=F(a,[j,l]),f[j].push(b.matrix(i).det()*h),h*=-1;g*=-1}return b.matrix(f)};i.adjugate=i.adj=function(){return this.transpose().cofactors()};i.inverse=i.inv=function(){var a=this.matrix,c=a.length,e=o(a),f=this.det(),g;if(1===c&&1===e)g=[[1/a[0][0]]];else if(1<c&&1<e)if(f)g=this.adjugate().scale(1/f);
else return p;return b.matrix(g)};i.identity=i.iden=function(){var a=o(this.matrix),c=[],e,f,g=0,h;for(e=0;e<a;e+=1){c[e]=[];for(f=0;f<a;f+=1)h=f===g?1:0,c[e][f]=h;g+=1}return b.matrix(c)};b.vector=function(a){return new C(a)};i=C.prototype;i.mag=function(){var a=this.vector;return n(l(a[0],2)+l(a[1],2)+l(a[2],2))};i.angle=function(){return b.polar(this.vector)[1]};i.scale=function(a){var c=this.vector.slice(0);c[0]*=a;c[1]*=a;c[2]*=a;return b.vector(c)};i.add=function(a){var c=this.vector,a=b.vector(a).vector;
return b.vector([c[0]+a[0],c[1]+a[1],c[2]+a[2]])};i.subtract=function(a){return this.add(b.vector(a).scale(-1))};i.dot=function(a){var c=this.vector,a=b.vector(a).vector;return c[0]*a[0]+c[1]*a[1]};i.cross=function(a){var c=this.vector,a=b.vector(a).vector;return 0===c[2]||0===a[2]?p:b.vector([c[1]*a[2]-c[2]*a[1],c[2]*a[0]-c[0]*a[2],c[0]*a[1]-c[1]*a[0]])}})(self,Math,parseFloat,parseInt,String,!0,!1,null);
