/**
 * @license Calc
 * Copyright 2013, Caleb Evans
 * Licensed under the MIT license
 */(function(e,t,n,r,i,s,o,u,a){function T(e){e&&e.constructor===T?e=e.matrix.slice(0):e===a&&(e=[[1]]);this.matrix=e}function N(e,t){return e[t]}function C(e,t){var n=[],r,i;for(r=0,i=e.length;r<i;r+=1)n.push(e[r][t]);return n}function k(e){return e.length}function L(e){return e.length===0?0:e[0].length}function A(e,t){var n,r,i,s;e=e.slice(0);e.splice(t[0],1);for(n=0,i=e.length;n<i;n+=1){e[n]=e[n].slice(0);for(r=0,s=e[n].length;r<s;r+=1)r===t[1]&&e[n].splice(r,1)}return e}function O(e){var t=1,n=e[0],r=L(e),i,s=0,o;for(o=0;o<r;o+=1){i=A(e.slice(0),[0,o]);s+=n[o]*t*f.matrix(i).det();t*=-1}return s}function M(e){e&&e.constructor===M&&(e=e.vector);e=e||[0,0,0];e=e.slice(0);e[2]=e[2]||0;this.vector=e}function _(e){e&&e.constructor===_?e=e.set.slice(0):e===a&&(e=[]);this.set=f.unique(e.slice(0))}var f={},l=e.Calc,c=t.abs,h=t.round,p=t.floor,d=t.ceil,v=t.pow,m=t.sqrt,g=t.exp,y=t.log,b=t.random,w=t.PI,E=t.E,S,x;e.Calc=f;f.PI=w;f.E=E;f.PHI=(1+m(5))/2;f.G=6.673848e-11;f.noConflict=function(){e.Calc===f&&(e.Calc=l);return f};f.abs=c;f.ceil=d;f.floor=p;f.rounded=f.round=function(e,t){return t?n(e.toFixed(t)):h(e)};f.nearest=function(e,t){return t===0?0:h(e/t)*t};f.mod=function(e,t){return(e%t+t)%t};f.chopped=f.chop=function(e){return e>=0?p(e):d(e)};f.sign=function(e){var t;e>0?t=1:e<0?t=-1:t=0;return t};f.correct=function(e){return i(e).indexOf("e")===-1&&f.round(e,14)===f.round(e,13)?f.round(e,14):e};f.pow=v;f.root=function(e,t){return v(e,1/t)};f.sqrt=m;f.log=function(e,t){t===a&&(t=10);return y(e)/y(t)};f.ln=y;f.exp=g;f.min=function(e){return t.min.apply(t,e)};f.max=function(e){return t.max.apply(t,e)};f.range=function(e){return f.max(e)-f.min(e)};f.thru=function(e,t,n){var r=[],i;if(t===a){t=e;e=0}n||(n=1);e>t&&(n=-1);for(i=e;i!==t;i+=n)r.push(i);return r};f.sum=function(e){var t=0,n,r;for(n=0,len=e.length;n<len;n+=1)t+=e[n];return t};f.summation=f.sigma=function(e,t,n){var r=0,i;if(n!==a)for(i=e;i<=t;i+=1)r+=n(i);else r=(t-e+1)*(e+t)/2;return r};f.riemann=function(e,t,n){var r=0,i=1e5,s=(n-t)/i,o;for(o=1;o<i;o+=1)r+=e(t+s*o)*s;return r};f.product=f.prod=function(e){var t=1,n,r;for(n=0,r=e.length;n<r;n+=1)t*=e[n];return t};f.mean=f.avg=function(e){return f.sum(e)/e.length};f.geoMean=function(e){return v(f.product(e),1/e.length)};f.median=function(e){var t,n,r,i;e=f.sort(e);i=e.length;if(i%2===0){n=e[i/2-1];r=e[i/2];t=f.mean([n,r])}else t=e[p(i/2)];return t};f.modes=f.mode=function(e){var t=[],n=[],r=1,i,s,o;for(s=0,o=e.length;s<o;s+=1){i=e[s];t[i]===a?t[i]=1:t[i]+=1;if(t[i]>r){n=[i];r=t[i]}else t[i]===r&&n.unshift(i)}n.length===o&&(n=[]);return n};f.variance=function(e,t){var n=len=e.length,r=f.mean(e),i=0,s=n-1,o;for(o=0;o<len;o+=1)i+=v(e[o]-r,2);t&&(s=n);return i/s};f.stdDev=function(e,t){return m(f.variance(e,t))};f.slope=function(e,t){var n=(t[1]-e[1])/(t[0]-e[0]);n===Infinity&&(n=u);return n};f.distance=f.dist=function(e,t){e=e.slice(0);t=t.slice(0);e[2]=e[2]||0;t[2]=t[2]||0;return m(v(t[0]-e[0],2)+v(t[1]-e[1],2)+v(t[2]-e[2],2))};f.midpoint=f.midpt=function(e,t){e=e.slice(0);t=t.slice(0);e[2]=e[2]||0;t[2]=t[2]||0;return[(e[0]+t[0])/2,(e[1]+t[1])/2,(e[2]+t[2])/2]};f.hypot=function(e,t){return m(v(e,2)+v(t,2))};f.sqDiff=function(e,t){return v(e,2)-v(t,2)};f.sorted=f.sort=function(e,t){e=e.slice(0);t&&t.call?e.sort(function(e,n){return t(e)>t(n)}):e.sort(function(e,t){return e>t});return e};f.filtered=f.filter=function(e,t){var n,r,i;if(e.filter)n=e.filter(t);else{n=[];for(r=0,i=e.length;r<i;r+=1)t.call(e,e[r],r,e)&&n.push(e[r])}return n};f.map=function(e,t){var n,r,i;if(e.map)n=e.map(t);else{n=[];for(r=0,i=e.length;r<i;r+=1)n.push(t.call(e,e[r],r,e))}return n};f.index=function(e,t,n){var r,i,s;if(e.indexOf)r=e.indexOf(t,n);else{r=-1;i=n||0;for(len=e.length;i<len;i+=1)if(e[i]===t){r=i;break}}return r};f.unique=function(e){return f.filtered(e,function(t,n){return f.index(e,t)===n})};f.reversed=f.reverse=function(e){e.split&&(e=e.split(""));e=e.slice(0).reverse();e.join&&(e=e.join(""));return e};f.flattened=f.flatten=function D(e){var t=[],n,r,i;i=Object.prototype.toString;for(n=0,r=e.length;n<r;n+=1)i.call(e[n])==="[object Array]"?t=t.concat(D(e[n])):t.push(e[n]);return t};f.groups=f.grouped=function(e,t){var n=[[]],r,i,s,o;typeof e=="string"&&(e=e.split(""));if(t===a)t=1;else if(t===0)return[];o=n[n.length-1];for(i=0,s=e.length;i<s;i+=1){if(o.length===t){n.push([]);o=n[n.length-1]}o.push(e[i])}if(o.length!==t){r=t-o.length;for(i=0;i<r;i+=1)o.push(u)}return n};f.factorial=function(e){var t=e,n;if(e===0)t=1;else if(e%1===0)for(n=1;n<e;n+=1)t*=n;else t=u;return t};f.nPr=function(e,t){return e<t?0:f.factorial(e)/f.factorial(e-t)};f.nCr=function(e,t){return e<t?0:f.factorial(e)/(f.factorial(e-t)*f.factorial(t))};f.permuations=f.perms=f.permute=function(e,t){function s(e,t){return t}function o(s){var u,a,l,c;if(s.length===t){l=function(t,n){return e[t]};i=f.map(s,l);r.push(i)}else{c=function(e,t){return f.index(s,e)===-1};u=f.filtered(n,c);for(a=0;a<u.length;a+=1)o(s.concat(u[a]))}}var n,r,i;r=[];t===a&&(t=e.length);typeof e=="string"&&(e=e.split(""));n=f.map(e,s);o([]);return r};f.degrees=function(e){return e*(180/w)};f.radians=function(e){return e*(w/180)};f.radiansf=function(e){var t=f.frac(e/w);if(t[0]%1!==0&&t[0]===1)return t[0]+"π";t=t.join("/").replace(/^(-)?1$/gi,"$1π").replace(/\//gi,"π/").replace(/^(-)?1π/gi,"$1π").replace(/\/1$/gi,"").replace(/^0π/gi,"0");return t};f.sin=t.sin;f.cos=t.cos;f.tan=t.tan;f.csc=function(e){return 1/f.sin(e)};f.sec=function(e){return 1/f.cos(e)};f.cot=function(e){return 1/f.tan(e)};f.asin=t.asin;f.acos=t.acos;f.atan=t.atan;f.atan2=t.atan2;f.acsc=function(e){return f.asin(1/e)};f.asec=function(e){return f.acos(1/e)};f.acot=function(e){return f.atan(1/e)};f.acot2=function(e,t){return f.atan2(t,e)};f.sinh=function(e){return(g(e)-g(-e))/2};f.cosh=function(e){return(g(e)+g(-e))/2};f.tanh=function(e){return(g(e)-g(-e))/(g(e)+g(-e))};f.csch=function(e){return 1/f.sinh(e)};f.sech=function(e){return 1/f.cosh(e)};f.coth=function(e){return 1/f.tanh(e)};f.asinh=function(e){return y(e+m(v(e,2)+1))};f.acosh=function(e){return y(e+m(v(e,2)-1))};f.atanh=function(e){return y((1+e)/(1-e))/2};f.acsch=function(e){return f.asinh(1/e)};f.asech=function(e){return f.acosh(1/e)};f.acoth=function(e){return f.atanh(1/e)};f.coterminal=function(e){return e-2*w*f.floor(e/(2*w))};f.rect=f.cart=function(e){var t,n;t=e[0]*f.cos(e[1]);n=e[0]*f.sin(e[1]);return[t,n]};f.polar=function(e){var t=f.hypot(e[0],e[1]),n=f.atan2(e[1],e[0]);n<0&&(n=f.coterminal(n));return[t,n]};f.quadrant=function(e){var t=d(f.coterminal(e)/(2*w)*4);t===0&&(t=1);return t};f.refAngle=function(e){return c(f.nearest(e,w)-e)};f.factors=function(e){var t,n,r=[1],i,u,a;e.push?e=e.slice(0):e=[e];for(u=0,a=e.length;u<a;u+=1)if(e[u])e[u]=c(e[u]);else{e.splice(u,1);u-=1}if(e.length){n=f.min(e);for(i=2;i<=n;i+=1){t=s;for(u=0;u<e.length;u+=1)e[u]%i!==0&&(t=o);t&&r.push(i)}}return r};f.gcf=f.gcd=function(e){var t=f.factors(e);return t[t.length-1]};f.lcm=f.lcd=function(e){var t,n,r,i,u,a;t=f.product(e);for(i=1;i<t;i+=1){r=s;for(u=0,a=e.length;u<a;u+=1)i%e[u]!==0&&(r=o);if(r){n=i;break}}return n};f.fib=function(e){var t,n,r,i;t=0;n=1;if(e===0)n=0;else for(r=0;r<e-1;r+=1){i=n;n=t+n;t=i}return n};f.prime=function(e){var t=0,n=0,r,i;for(t=0;n<=e;t+=1){i=f.isPrime(t);if(i){r=t;n+=1}}return r};f.fraction=f.frac=function(e){var t=1e-12,n,r,i;for(i=1;i<5e4;i+=1){n=e*i;r=c(n);if(r%1<t||1-r%1<t)return[h(n),i]}return[e,1]};f.fractionf=f.fracf=function(e){var t=f.frac(e);t=t.join("/").replace(/\/1$/gi,"");return t};f.radical=function(e){var t,n,r,i,s;s=f.sign(e);e=c(e);t=m(e);n=[1,e];if(t%1===0)n=[t,1];else for(i=2;i<e;i+=1){r=e/i;if(r%1===0){t=m(r);if(t%1===0){n=[t,e/r];break}}}n[1]*=s;return n};f.radicalf=function(e){var t=f.radical(e);t=t.join("√").replace(/1√/gi,"√").replace(/√\-/gi,"i√").replace(/√1$/gi,"");t===""&&(t="1");return t};f.commas=function(e){var t=i(e).split(".");t[0].indexOf("e")===-1&&(t[0]=t[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"));return t.join(".")};f.noCommas=function(e){e=e.replace(/,/gi,"");return n(e)};f.isEven=function(e){return e%2===0};f.isOdd=function(e){return c(e)%2===1};f.isInteger=function(e){return e%1===0};f.isPrime=function(e){var t=f.factors(e);return t.length===2};f.isComposite=function(e){e=c(e);return f.factors(e).length>2};f.isFactor=f.isFactorOf=function(e,t){return t%e===0};f.isFib=function(e){var t,n,r;n=5*v(e,2)+4;e>0?r=5*v(e,2)-4:r=n;m(n)%1===0||m(r)%1===0?t=s:t=o;return t};f.rand=f.random=function(e,t){if(e===a&&t===a){e=0;t=1}else if(t===a){t=e;e=0}return t.length?p(t.length*b()):e+(t-e)*b()};f.randInt=function(e,t){return h(f.rand(e,t))};f.randChoices=function(e,t){return f.scramble(e).slice(0,t||1)};f.randChoice=f.choice=function(e){return e[f.random(e)]};f.scrambled=f.scramble=function(e){var t,n;e=e.slice(0);for(n=0;n<e.length;n+=1){t=e[n];e.splice(n,1);e.splice(f.random(e),0,t)}return e};f.base=function(e,t){return e.toString(t)};f.decimal=f.dec=function(e,t){return r(e,t)};f.binary=f.bin=function(e){return e.toString(2)};f.octal=f.oct=function(e){return e.toString(8)};f.hex=function(e){return e.toString(16)};f.not=function(e){return!e};f.and=function(e,t){return!!e&&!!t};f.or=function(e,t){return!!e||!!t};f.xor=function(e,t){return(!!e||!!t)&&e!==t};f.nand=function(e,t){return!e||!t};f.nor=function(e,t){return!e&&!t};f.matrix=function(e){return new T(e)};S=T.prototype;S.scale=function(e){var t=this.matrix.slice(0),n,r,i,s;for(n=0,i=t.length;n<i;n+=1)for(r=0,s=t[n].length;r<s;r+=1)t[n][r]*=e;return f.matrix(t)};S.row=function(e){return N(this.matrix,e)};S.col=function(e){return C(this.matrix,e)};S.value=function(e){var t=this.matrix,n=L(t),r=d(e/n)-1,i=e%n;return t[r]?t[r][i]:a};S.index=function(e){var t=this.matrix,n=k(t),r=L(t),i,s;for(i=0;i<n;i+=1)for(s=0;s<r;s+=1)if(t[i][s]===e)return i*r+s;return u};S.nrows=S.rows=function(){return k(this.matrix)};S.ncols=S.cols=function(){return L(this.matrix)};S.nvalues=S.values=function(){var e=this.matrix;return k(e)*L(e)};S.add=function(e){var t=this.matrix,n,r,i,s,o=[];e=f.matrix(e).matrix;if(t.length!==e.length||t[0].length!==e[0].length)return u;for(n=0,i=t.length;n<i;n+=1){o[n]=[];for(r=0,s=t[n].length;r<s;r+=1)o[n][r]=t[n][r]+e[n][r]}return f.matrix(o)};S.subtract=function(e){return this.add(f.matrix(e).scale(-1))};S.multiply=function(e){e=f.matrix(e).matrix;var t=this.matrix,n,r,i,s,o,a,l=t.length,c=e[0].length,h,p=[];if(t[0].length!==e.length)return u;for(n=0;n<l;n+=1){p[n]=[];for(r=0;r<c;r+=1){s=0;o=N(t,n);a=C(e,r);for(i=0,h=o.length;i<h;i+=1)s+=o[i]*a[i];p[n][r]=s}}return f.matrix(p)};S.det=S.determinant=function(){var e=this.matrix,t=k(e),n=L(e),r;t===1&&n===1?r=e[0][0]:t>1&&n>1?r=O(e):r=u;return r};S.transpose=S.reflect=function(){var e=this.matrix,t=k(e),n=L(e),r=[],i,s;for(s=0;s<n;s+=1){r[s]=[];for(i=0;i<t;i+=1)r[s][i]=e[i][s]}return f.matrix(r)};S.cofactors=function(){var e=this.matrix,t=k(e),n=L(e),r=[],i=1,s,o,u,a;e=e.slice(0);for(u=0;u<t;u+=1){s=i;r[u]=[];for(a=0;a<n;a+=1){o=A(e,[u,a]);r[u].push(f.matrix(o).det()*s);s*=-1}i*=-1}return f.matrix(r)};S.adjugate=S.adj=function(){return this.transpose().cofactors()};S.inverse=S.inv=function(){var e=this,t=e.matrix,n=k(t),r=L(t),i=e.det(),s;if(n===1&&r===1)s=[[1/t[0][0]]];else if(n>1&&r>1){if(!i)return u;s=e.adjugate().scale(1/i)}return f.matrix(s)};S.identity=S.iden=function(){var e=this,t=e.matrix,n=L(t),r=[],i,s,o=0,u;for(i=0;i<n;i+=1){r[i]=[];for(s=0;s<n;s+=1){s===o?u=1:u=0;r[i][s]=u}o+=1}return f.matrix(r)};f.vector=function(e){return new M(e)};x=M.prototype;x.mag=function(){var e=this.vector;return m(v(e[0],2)+v(e[1],2)+v(e[2],2))};x.angle=function(){return f.polar(this.vector)[1]};x.scale=function(e){var t=this.vector.slice(0);t[0]*=e;t[1]*=e;t[2]*=e;return f.vector(t)};x.add=function(e){var t=this.vector;e=f.vector(e).vector;return f.vector([t[0]+e[0],t[1]+e[1],t[2]+e[2]])};x.subtract=function(e){return this.add(f.vector(e).scale(-1))};x.dot=function(e){var t=this.vector;e=f.vector(e).vector;return t[0]*e[0]+t[1]*e[1]};x.cross=function(e){var t=this.vector;e=f.vector(e).vector;return t[2]===0||e[2]===0?u:f.vector([t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]])};f.set=function(e){return new _(e)};set=_.prototype;set.union=function(e){var t=this.set;e=f.set(e).set;return f.set(t.concat(e))};set.intersection=set.intersect=function(e){var t=this.set;e=f.set(e).set;return f.set(f.filtered(t,function(t){return f.index(e,t)!==-1}))};set.difference=set.diff=function(e){var t=this.set;e=f.set(e).set;return f.set(f.filtered(t,function(t){return f.index(e,t)===-1}))};set.symDiff=function(e){var t=this;e=f.set(e);return t.union(e).diff(t.intersection(e))};set.equals=function(e){var t=this.set,n;e=f.set(e).set;if(t.length===e.length){for(n=0;n<t.length;n+=1)if(f.index(e,t[n])===-1)return o;return s}return o}})(self,Math,parseFloat,parseInt,String,!0,!1,null);